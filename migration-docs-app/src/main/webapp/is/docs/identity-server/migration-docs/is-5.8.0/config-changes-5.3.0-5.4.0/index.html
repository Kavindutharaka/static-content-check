
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Identity Server">
      
      
        <meta name="author" content="WSO2">
      
      
        <link rel="canonical" href="https://wso2.com/is/docs/identity-server/migration-docs/is-5.8.0/config-changes-5.3.0-5.4.0/">
      
      
        <link rel="prev" href="../config-changes-5.2.0-5.3.0/">
      
      
        <link rel="next" href="../config-changes-5.4.0-5.5.0/">
      
      <link rel="icon" href="../../../../assets/images/identity-server-favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.1.2">
    
    
      
        <title>Version 5.3.0 to 5.4.0 - Identity Server</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.7bf56d0a.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../../../assets/libs/fontawesome-free-6.4.2-web/css/all.min.css">
    
      <link rel="stylesheet" href="../../../../assets/css/theme.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration-changes-wso2-is-530-to-540" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
 * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).
 *
 * WSO2 LLC. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

   
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a
      href="../../../.."
      title="Identity Server"
      class="md-header__button md-logo"
      aria-label="Identity Server"
      data-md-component="logo"
    >
      <!--
 * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).
 *
 * WSO2 LLC. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->


    
        <img src="../../../../assets/images/is-light.svg" alt="logo" data-md-component="logo" data-md-color="default">
    
    
        <img src="../../../../assets/images/is-dark.svg" alt="logo" data-md-component="logo" data-md-color="slate">
    

    </a>

    <label class="md-header__button md-icon" for="__drawer">
       <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

   
    <form class="md-header__option" data-md-component="palette">
       
      <input
        class="md-option"
        data-md-color-media="(prefers-color-scheme: light)"
        data-md-color-scheme="default"
        data-md-color-primary=""
        data-md-color-accent=""
        
        aria-label="Switch to dark mode"
        
        type="radio"
        name="__palette"
        id="__palette_1"
      />
      
      <label
        class="md-header__button md-icon md-theme-switch md-icon--hover"
        title="Switch to dark mode"
        for="__palette_2"
        hidden
      >
        <!--
 * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com). All Rights Reserved.
 *
 * WSO2 LLC. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.5 0.5C8.5 0.223858 8.27614 0 8 0C7.72386 0 7.5 0.223858 7.5 0.5V1.5C7.5 1.77614 7.72386 2 8 2C8.27614 2 8.5 1.77614 8.5 1.5V0.5ZM8.5 14.5C8.5 14.2239 8.27614 14 8 14C7.72386 14 7.5 14.2239 7.5 14.5V15.5C7.5 15.7761 7.72386 16 8 16C8.27614 16 8.5 15.7761 8.5 15.5V14.5ZM1.5 8.5C1.77614 8.5 2 8.27614 2 8C2 7.72386 1.77614 7.5 1.5 7.5H0.5C0.223858 7.5 0 7.72386 0 8C0 8.27614 0.223858 8.5 0.5 8.5H1.5ZM15.5 8.5C15.7761 8.5 16 8.27614 16 8C16 7.72386 15.7761 7.5 15.5 7.5H14.5C14.2239 7.5 14 7.72386 14 8C14 8.27614 14.2239 8.5 14.5 8.5H15.5ZM12.4464 2.83936C12.2512 3.03463 12.2512 3.35121 12.4464 3.54647C12.6417 3.74173 12.9583 3.74173 13.1535 3.54647L13.8606 2.83936C14.0559 2.6441 14.0559 2.32752 13.8606 2.13226C13.6654 1.937 13.3488 1.937 13.1535 2.13226L12.4464 2.83936ZM2.14645 2.86065C1.95118 2.66539 1.95118 2.3488 2.14645 2.15354C2.34171 1.95828 2.65829 1.95828 2.85355 2.15354L3.56066 2.86065C3.75592 3.05591 3.75592 3.37249 3.56066 3.56775C3.3654 3.76302 3.04882 3.76302 2.85355 3.56775L2.14645 2.86065ZM2.14645 13.1394C1.95118 13.3346 1.95118 13.6512 2.14645 13.8465C2.34171 14.0417 2.65829 14.0417 2.85355 13.8465L3.56066 13.1394C3.75592 12.9441 3.75592 12.6275 3.56066 12.4322C3.3654 12.237 3.04882 12.237 2.85355 12.4322L2.14645 13.1394ZM12.4464 13.1606C12.2512 12.9654 12.2512 12.6488 12.4464 12.4535C12.6417 12.2583 12.9583 12.2583 13.1535 12.4535L13.8606 13.1606C14.0559 13.3559 14.0559 13.6725 13.8606 13.8677C13.6654 14.063 13.3488 14.063 13.1535 13.8677L12.4464 13.1606ZM6.14708 3.35455C4.303 4.09075 3 5.8932 3 7.99998C3 10.7614 5.23858 13 8 13C10.6789 13 12.8657 10.8933 12.994 8.2462C12.998 8.16463 13 8.08254 13 7.99999C13 7.67166 12.9684 7.35072 12.9079 7.04005C12.2805 7.63501 11.4329 7.99999 10.5 7.99999C8.567 7.99999 7 6.43299 7 4.49999C7 3.98143 7.11277 3.48921 7.31514 3.04651C6.90813 3.10226 6.51674 3.20699 6.14708 3.35457C6.14708 3.35456 6.14708 3.35456 6.14708 3.35455ZM6.00013 4.53503C4.80446 5.22663 4 6.51936 4 7.99998C4 10.2091 5.79086 12 8 12C9.94598 12 11.5674 10.6104 11.9261 8.76934C11.478 8.91895 10.9984 8.99999 10.5 8.99999C8.02641 8.99999 6.01896 7.00418 6.00013 4.53503Z" fill="#40404B"/>
</svg>
      </label>
        
      <input
        class="md-option"
        data-md-color-media="(prefers-color-scheme: dark)"
        data-md-color-scheme="slate"
        data-md-color-primary=""
        data-md-color-accent=""
        
        aria-label="Switch to light mode"
        
        type="radio"
        name="__palette"
        id="__palette_2"
      />
      
      <label
        class="md-header__button md-icon md-theme-switch md-icon--hover"
        title="Switch to light mode"
        for="__palette_1"
        hidden
      >
        <!--
 * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com). All Rights Reserved.
 *
 * WSO2 LLC. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C8.27614 0 8.5 0.223858 8.5 0.5V1.5C8.5 1.77614 8.27614 2 8 2C7.72386 2 7.5 1.77614 7.5 1.5V0.5C7.5 0.223858 7.72386 0 8 0ZM8 14C8.27614 14 8.5 14.2239 8.5 14.5V15.5C8.5 15.7761 8.27614 16 8 16C7.72386 16 7.5 15.7761 7.5 15.5V14.5C7.5 14.2239 7.72386 14 8 14ZM2 8C2 8.27614 1.77614 8.5 1.5 8.5H0.5C0.223858 8.5 0 8.27614 0 8C0 7.72386 0.223858 7.5 0.5 7.5H1.5C1.77614 7.5 2 7.72386 2 8ZM16 8C16 8.27614 15.7761 8.5 15.5 8.5H14.5C14.2239 8.5 14 8.27614 14 8C14 7.72386 14.2239 7.5 14.5 7.5H15.5C15.7761 7.5 16 7.72386 16 8ZM12.4464 3.54647C12.2512 3.35121 12.2512 3.03463 12.4464 2.83936L13.1535 2.13226C13.3488 1.937 13.6654 1.937 13.8606 2.13226C14.0559 2.32752 14.0559 2.6441 13.8606 2.83936L13.1535 3.54647C12.9583 3.74173 12.6417 3.74173 12.4464 3.54647ZM2.14645 2.15354C1.95118 2.3488 1.95118 2.66539 2.14645 2.86065L2.85355 3.56775C3.04882 3.76302 3.3654 3.76302 3.56066 3.56775C3.75592 3.37249 3.75592 3.05591 3.56066 2.86065L2.85355 2.15354C2.65829 1.95828 2.34171 1.95828 2.14645 2.15354ZM2.14645 13.8465C1.95118 13.6512 1.95118 13.3346 2.14645 13.1394L2.85355 12.4322C3.04882 12.237 3.3654 12.237 3.56066 12.4322C3.75592 12.6275 3.75592 12.9441 3.56066 13.1394L2.85355 13.8465C2.65829 14.0417 2.34171 14.0417 2.14645 13.8465ZM12.4464 12.4535C12.2512 12.6488 12.2512 12.9654 12.4464 13.1606L13.1535 13.8677C13.3488 14.063 13.6654 14.063 13.8606 13.8677C14.0559 13.6725 14.0559 13.3559 13.8606 13.1606L13.1535 12.4535C12.9583 12.2583 12.6417 12.2583 12.4464 12.4535ZM12 8C12 10.2091 10.2091 12 8 12C5.79086 12 4 10.2091 4 8C4 5.79086 5.79086 4 8 4C10.2091 4 12 5.79086 12 8ZM13 8C13 10.7614 10.7614 13 8 13C5.23858 13 3 10.7614 3 8C3 5.23858 5.23858 3 8 3C10.7614 3 13 5.23858 13 8Z" fill="#40404B"/>
</svg>
      </label>
       
    </form>
      
    
    
     
    <label class="md-header__button md-icon md-icon--hover" for="__search">
       <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
    </label>
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>  
    
    
   
  </nav>
  <script></script>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Identity Server" class="md-nav__button md-logo" aria-label="Identity Server" data-md-component="logo">
      <!--
 * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).
 *
 * WSO2 LLC. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->


    
        <img src="../../../../assets/images/is-light.svg" alt="logo" data-md-component="logo" data-md-color="default">
    
    
        <img src="../../../../assets/images/is-dark.svg" alt="logo" data-md-component="logo" data-md-color="slate">
    

    </a>
    Identity Server
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../..">Home</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../">Documentation</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          What has changed
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          What has changed
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
          5.2.0 to 5.7.0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          5.2.0 to 5.7.0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config-changes-5.2.0-5.3.0/" class="md-nav__link">
        Version 5.2.0 to 5.3.0
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Version 5.3.0 to 5.4.0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Version 5.3.0 to 5.4.0
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-changes" class="md-nav__link">
    Configuration changes
  </a>
  
    <nav class="md-nav" aria-label="Configuration changes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#carbonxml-file" class="md-nav__link">
    carbon.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identity-eventproperties-file" class="md-nav__link">
    identity-event.properties file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identityxml-file" class="md-nav__link">
    identity.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oidc-scope-configxml-file" class="md-nav__link">
    oidc-scope-config.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authenticatorsxml-file" class="md-nav__link">
    authenticators.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webxml-file" class="md-nav__link">
    web.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#email-admin-configxml-file" class="md-nav__link">
    email-admin-config.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cipher-toolproperties-file" class="md-nav__link">
    cipher-tool.properties file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cipher-textproperties-file" class="md-nav__link">
    cipher-text.properties file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#claim-configxml-file" class="md-nav__link">
    claim-config.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-authenticationxml-file" class="md-nav__link">
    application-authentication.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entitlementproperties-file" class="md-nav__link">
    entitlement.properties file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config-changes-5.4.0-5.5.0/" class="md-nav__link">
        Version 5.4.0 to 5.5.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config-changes-5.5.0-5.6.0/" class="md-nav__link">
        Version 5.5.0 to 5.6.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config-changes-5.6.0-5.7.0/" class="md-nav__link">
        Version 5.6.0 to 5.7.0
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../understanding-what-has-changed/" class="md-nav__link">
        Version 5.7.0 to 5.8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-5.9.0/migrating-what-has-changed/" class="md-nav__link">
        Version 5.8.0 to 5.9.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-5.10.0/migrating-what-has-changed/" class="md-nav__link">
        Version 5.9.0 to 5.10.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-5.11.0/migrating-what-has-changed/" class="md-nav__link">
        Version 5.10.0 to 5.11.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-6.0.0/what-has-changed/" class="md-nav__link">
        Version 5.11.0 to 6.0.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-6.1.0/what-has-changed/" class="md-nav__link">
        Version 6.0.0 to 6.1.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/what-has-changed/" class="md-nav__link">
        Version 6.1.0 to 7.0.0
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Identity Server 6.1.0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Identity Server 6.1.0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3_1" id="__nav_2_3_1_label" tabindex="0">
          Migration Process
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3_1">
          <span class="md-nav__icon md-icon"></span>
          Migration Process
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-6.1.0/prepare-for-migration/" class="md-nav__link">
        Prepare For Migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-6.1.0/migration-process/" class="md-nav__link">
        Migration Process
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
          Migration Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          Migration Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-6.1.0/migrate-to-610/" class="md-nav__link">
        Migrating to 6.1.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3_2_2" id="__nav_2_3_2_2_label" tabindex="0">
          Supporting Documents
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3_2_2">
          <span class="md-nav__icon md-icon"></span>
          Supporting Documents
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-5.9.0/migrating-to-log4j2/" class="md-nav__link">
        Migrating to Log4j2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          Identity Server 7.0.0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Identity Server 7.0.0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_1" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_4_1" id="__nav_2_4_1_label" tabindex="0">
          Migration Process
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4_1">
          <span class="md-nav__icon md-icon"></span>
          Migration Process
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/prepare-for-migration/" class="md-nav__link">
        Prepare For Migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/migration-process/" class="md-nav__link">
        Migration Process
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_4_2" id="__nav_2_4_2_label" tabindex="0">
          Migration Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4_2">
          <span class="md-nav__icon md-icon"></span>
          Migration Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/migrate-to-700/" class="md-nav__link">
        Migrating to 7.0.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4_2_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_4_2_2" id="__nav_2_4_2_2_label" tabindex="0">
          Supporting Documents
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_4_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          Supporting Documents
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/migrating-configurations/" class="md-nav__link">
        Migrating Configurations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/migrating-customizations/" class="md-nav__link">
        Migrating customizations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-5.10.0/migrating-to-log4j2/" class="md-nav__link">
        Migrating to Log4j2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/migrating-authorization-model/" class="md-nav__link">
        Migrating Authorization Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/migrating-saas-applications/" class="md-nav__link">
        Migrating SaaS Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/migrating-roles-related-adaptive-script-functions/" class="md-nav__link">
        Migrating roles related adaptive script functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../is-7.0.0/migrating-applications-for-tenanted-qualified-urls/" class="md-nav__link">
        Migrating applications for tenanted qualified URLs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration-changes" class="md-nav__link">
    Configuration changes
  </a>
  
    <nav class="md-nav" aria-label="Configuration changes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#carbonxml-file" class="md-nav__link">
    carbon.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identity-eventproperties-file" class="md-nav__link">
    identity-event.properties file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identityxml-file" class="md-nav__link">
    identity.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oidc-scope-configxml-file" class="md-nav__link">
    oidc-scope-config.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authenticatorsxml-file" class="md-nav__link">
    authenticators.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webxml-file" class="md-nav__link">
    web.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#email-admin-configxml-file" class="md-nav__link">
    email-admin-config.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cipher-toolproperties-file" class="md-nav__link">
    cipher-tool.properties file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cipher-textproperties-file" class="md-nav__link">
    cipher-text.properties file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#claim-configxml-file" class="md-nav__link">
    claim-config.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-authenticationxml-file" class="md-nav__link">
    application-authentication.xml file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entitlementproperties-file" class="md-nav__link">
    entitlement.properties file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="configuration-changes-wso2-is-530-to-540">Configuration Changes - WSO2 IS 5.3.0 to 5.4.0<a class="headerlink" href="#configuration-changes-wso2-is-530-to-540" title="Permanent link">&para;</a></h1>
<p>Listed below are the configuration and behavioral changes from WSO2 IS version 5.3.0 to 5.4.0.</p>
<ul>
<li><a href="#configuration-changes">Configuration changes</a></li>
</ul>
<h2 id="configuration-changes">Configuration changes<a class="headerlink" href="#configuration-changes" title="Permanent link">&para;</a></h2>
<p>Listed below are the configuration changes from WSO2 IS version 5.3.0 to 5.4.0.</p>
<h3 id="carbonxml-file"><code>carbon.xml</code> file<a class="headerlink" href="#carbonxml-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf folder.</p>
<p>Change the version property value to 5.4.0.</p>
<div class="highlight"><pre><span></span><code>&lt;Version&gt;5.4.0&lt;/Version&gt;
</code></pre></div>

<h3 id="identity-eventproperties-file"><code>identity-event.properties</code> file<a class="headerlink" href="#identity-eventproperties-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf/identity folder.</p>
<p>Add the following property.</p>
<div class="highlight"><pre><span></span><code>account.lock.handler.notification.manageInternally=true
</code></pre></div>

<p>The property given above allows you to enable or disable sending emails via the WSO2 Identity Server when an account is locked or unlocked.</p>
<h3 id="identityxml-file"><code>identity.xml</code> file<a class="headerlink" href="#identityxml-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf/identity folder.</p>
<p>Add the following property within the <code>&lt;SessionDataCleanUp&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;DeleteChunkSize&gt;50000&lt;/DeleteChunkSize&gt;
</code></pre></div>

<p>In a production environment, there is a possibility for a deadlock/database lock
to occur when running a session data cleanup task in high load scenarios.
To mitigate this, the property given above was introduced to clean data in chunks.
Configure this property with the required chunk size. For more information, see <a href="https://docs.wso2.com/display/IS540/Deployment+Guidelines+in+Production#DeploymentGuidelinesinProduction-Configuringchunksize">Deployment Guidelines in Production</a>.</p>
<p>Remove the following property found within the <code>&lt;OperationDataCleanUp&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;CleanUpPeriod&gt;720&lt;/CleanUpPeriod&gt;
</code></pre></div>

<p>WSO2 IS 5.3.0 had two separate tasks for session data cleanup and operation data cleanup.
This is now combined and done through one task.
Therefore the property given above is no longer needed.
You can still configure the <code>&lt;CleanUpPeriod&gt;</code> property within the <code>&lt;SessionDataCleanUp&gt;</code> tag
to specify the cleanup period for the combined task.</p>
<p>Change the default value of the following property from 300 to 0.</p>
<blockquote>
<p>You can skip this step if you have already configured the <code>&lt;TimestampSkew&gt;</code> property with your own value.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>&lt;TimestampSkew&gt;0&lt;/TimestampSkew&gt;
</code></pre></div>

<p>The property given above specifies the maximum tolerance limit
for the clock skewed between the sender and recipient.
The default value was changed to 0 as the best practice is to assume
that the sender and recipient clocks are synchronized and are in the same time stamp.
Configure this accordingly if the clocks are not in the same timestamp.</p>
<p>Add the following JWT bearer grant type within the <code>&lt;SupportedGrantTypes&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;SupportedGrantType&gt;
&lt;GrantTypeName&gt;urn:ietf:params:oauth:grant-type:jwt-bearer&lt;/GrantTypeName&gt;
&lt;GrantTypeHandlerImplClass&gt;org.wso2.carbon.identity.oauth2.grant.jwt.JWTBearerGrantHandler&lt;/GrantTypeHandlerImplClass&gt;
&lt;GrantTypeValidatorImplClass&gt;org.wso2.carbon.identity.oauth2.grant.jwt.JWTGrantValidator&lt;/GrantTypeValidatorImplClass&gt;
&lt;/SupportedGrantType&gt;
</code></pre></div>

<p>The JWT bearer grant type is supported out-of-the-box with WSO2 IS 5.4.0.
For more information, see <a href="https://docs.wso2.com/display/ISCONNECTORS/Configuring+JWT+Grant+Type">Configuring JWT Grant Type</a> in the ISConnectors documentation.</p>
<p>Update the <code>&lt;EmailVerification&gt;</code> code block with the following code.</p>
<p>The properties shown below at line numbers 3,8,9,10 &amp; 11 were added in 5.4.0.</p>
<blockquote>
<p>This step is optional.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>&lt;EmailVerification&gt;
    &lt;Enable&gt;false&lt;/Enable&gt;
    &lt;ExpiryTime&gt;1440&lt;/ExpiryTime&gt;
    &lt;LockOnCreation&gt;true&lt;/LockOnCreation&gt;
    &lt;Notification&gt;
        &lt;InternallyManage&gt;true&lt;/InternallyManage&gt;
    &lt;/Notification&gt;
    &lt;AskPassword&gt;
        &lt;ExpiryTime&gt;1440&lt;/ExpiryTime&gt;
        &lt;PasswordGenerator&gt;org.wso2.carbon.user.mgt.common.DefaultPasswordGenerator&lt;/PasswordGenerator&gt;
    &lt;/AskPassword&gt;
&lt;/EmailVerification&gt;
</code></pre></div>

<p>Update the following property found within the <code>&lt;SelfRegistration&gt;</code> tag to true.</p>
<blockquote>
<p>This step is optional.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>&lt;LockOnCreation&gt;true&lt;/LockOnCreation&gt;
</code></pre></div>

<p>Add the following properties within the <code>&lt;SelfRegistration&gt;</code> tag.</p>
<blockquote>
<p>This step is optional.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>&lt;VerificationCode&gt;
  &lt;ExpiryTime&gt;1440&lt;/ExpiryTime&gt;
&lt;/VerificationCode&gt;
</code></pre></div>

<p>Add the following properties within the <code>&lt;Server&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;AuthenticationPolicy&gt;
    &lt;CheckAccountExist&gt;false&lt;/CheckAccountExist&gt;
&lt;/AuthenticationPolicy&gt;
</code></pre></div>

<p>Change the default values within the <code>&lt;CacheManager&gt;</code> tag.</p>
<blockquote>
<p><strong>If you have already configured all the properties</strong> within the <code>&lt;CacheManager&gt;</code> tag with your own values, skip this step.</p>
<p><strong>If you have only configured some properties</strong> within the <code>&lt;CacheManager&gt;</code> tag with your own values, replace the properties that are not been changed/configured with the relevant default values shown below.</p>
<p><strong>If you have not configured or changed any of the properties</strong> within the <code>&lt;CacheManager&gt;</code> tag with your own values, copy the entire code block below and replace the <code>&lt;CacheManager&gt;</code> tag in the identity.xml file with the code block given below.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>&lt;CacheManager name=&quot;IdentityApplicationManagementCacheManager&quot;&gt;
    &lt;Cache name=&quot;AppAuthFrameworkSessionContextCache&quot; enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;AuthenticationContextCache&quot; enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;AuthenticationRequestCache&quot; enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;AuthenticationResultCache&quot;  enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;AppInfoCache&quot;               enable=&quot;true&quot;  timeout=&quot;900&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;AuthorizationGrantCache&quot;    enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;OAuthCache&quot;                 enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;OAuthScopeCache&quot;            enable=&quot;true&quot;  timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;OAuthSessionDataCache&quot;      enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;SAMLSSOParticipantCache&quot;    enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;SAMLSSOSessionIndexCache&quot;   enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;SAMLSSOSessionDataCache&quot;    enable=&quot;true&quot; timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;ServiceProviderCache&quot;       enable=&quot;true&quot;  timeout=&quot;900&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;ProvisioningConnectorCache&quot; enable=&quot;true&quot;  timeout=&quot;900&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;ProvisioningEntityCache&quot;    enable=&quot;true&quot; timeout=&quot;900&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;ServiceProviderProvisioningConnectorCache&quot; enable=&quot;true&quot;  timeout=&quot;900&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;IdPCacheByAuthProperty&quot;     enable=&quot;true&quot;  timeout=&quot;900&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;IdPCacheByHRI&quot;              enable=&quot;true&quot;  timeout=&quot;900&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
    &lt;Cache name=&quot;IdPCacheByName&quot;             enable=&quot;true&quot;  timeout=&quot;900&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
&lt;/CacheManager&gt;
</code></pre></div>

<p>Add the following property within the <code>&lt;CacheManager&gt;</code> tag if it does not already exist.</p>
<div class="highlight"><pre><span></span><code>&lt;Cache name=&quot;OAuthScopeCache&quot; enable=&quot;true&quot;  timeout=&quot;300&quot; capacity=&quot;5000&quot; isDistributed=&quot;false&quot;/&gt;
</code></pre></div>

<p>Add the following properties within the <code>&lt;OAuth&gt;</code> tag. The code comments explain the usage and applicable values for the properties.</p>
<div class="highlight"><pre><span></span><code>&lt;!-- Specify the Token issuer class to be used.
Default: org.wso2.carbon.identity.oauth2.token.OauthTokenIssuerImpl.
Applicable values: org.wso2.carbon.identity.oauth2.token.JWTTokenIssuer--&gt;
    &lt;!--&lt;IdentityOAuthTokenGenerator&gt;org.wso2.carbon.identity.oauth2.token.JWTTokenIssuer&lt;/IdentityOAuthTokenGenerator&gt;--&gt;

&lt;!-- This configuration is used to specify the access token value generator.
Default: org.apache.oltu.oauth2.as.issuer.UUIDValueGenerator
Applicable values: org.apache.oltu.oauth2.as.issuer.UUIDValueGenerator,
    org.apache.oltu.oauth2.as.issuer.MD5Generator,
    org.wso2.carbon.identity.oauth.tokenvaluegenerator.SHA256Generator --&gt;
    &lt;!--&lt;AccessTokenValueGenerator&gt;org.wso2.carbon.identity.oauth.tokenvaluegenerator.SHA256Generator&lt;/AccessTokenValueGenerator&gt;--&gt;

&lt;!-- This configuration is used to specify whether the Service Provider tenant domain should be used when generating
access token.Otherwise user domain will be used.Currently this value is only supported by the JWTTokenIssuer. --&gt;
    &lt;!--&lt;UseSPTenantDomain&gt;True&lt;/UseSPTenantDomain&gt;--&gt;
</code></pre></div>

<p>Add the following properties related to token persistence within the <code>&lt;OAuth&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;TokenPersistence&gt;
    &lt;Enable&gt;true&lt;/Enable&gt;
    &lt;PoolSize&gt;0&lt;/PoolSize&gt;
    &lt;RetryCount&gt;5&lt;/RetryCount&gt;
&lt;/TokenPersistence&gt;
</code></pre></div>

<p>Add the following property within the <code>&lt;OpenIDConnect&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;SignJWTWithSPKey&gt;false&lt;/SignJWTWithSPKey&gt;
</code></pre></div>

<p>Replace the <code>&lt;OAuth2RevokeEPUrll&gt;</code> property with the following.</p>
<div class="highlight"><pre><span></span><code>&lt;OAuth2RevokeEPUrl&gt;${carbon.protocol}://${carbon.host}:${carbon.management.port}/oauth2/revoke&lt;/OAuth2RevokeEPUrl&gt;
</code></pre></div>

<p>Add the following event listener within the <code>&lt;EventListeners&gt;</code> tag. Uncomment this listener if you are using SCIM 2.0.</p>
<div class="highlight"><pre><span></span><code>&lt;!-- Uncomment the following event listener if SCIM2 is used. --&gt;
&lt;!--EventListener type=&quot;org.wso2.carbon.user.core.listener.UserOperationEventListener&quot;
name = &quot;org.wso2.carbon.identity.scim2.common.listener.SCIMUserOperationListener&quot;
orderId = &quot;93&quot;
enable = &quot;true&quot; /--&gt;
</code></pre></div>

<p>Add the following properties within the <code>&lt;ResourceAccessControl&gt;</code> tag. These properties specify the access levels and permissions for the SCIM 2.0 resources.</p>
<div class="highlight"><pre><span></span><code>&lt;Resource context=&quot;(.*)/scim2/Users&quot; secured=&quot;true&quot; http-method=&quot;POST&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt/create&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Users&quot; secured=&quot;true&quot; http-method=&quot;GET&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt/list&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Groups&quot; secured=&quot;true&quot; http-method=&quot;POST&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/rolemgt/create&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Groups&quot; secured=&quot;true&quot; http-method=&quot;GET&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/rolemgt/view&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Users/(.*)&quot; secured=&quot;true&quot; http-method=&quot;GET&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt/view&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Users/(.*)&quot; secured=&quot;true&quot; http-method=&quot;PUT&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt/update&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Users/(.*)&quot; secured=&quot;true&quot; http-method=&quot;PATCH&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt/update&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Users/(.*)&quot; secured=&quot;true&quot; http-method=&quot;DELETE&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt/delete&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Groups/(.*)&quot; secured=&quot;true&quot; http-method=&quot;GET&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/rolemgt/view&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Groups/(.*)&quot; secured=&quot;true&quot; http-method=&quot;PUT&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/rolemgt/update&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Groups/(.*)&quot; secured=&quot;true&quot; http-method=&quot;PATCH&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/rolemgt/update&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Groups/(.*)&quot; secured=&quot;true&quot; http-method=&quot;DELETE&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/rolemgt/delete&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Me&quot; secured=&quot;true&quot;    http-method=&quot;GET&quot;&gt;
    &lt;Permissions&gt;/permission/admin/login&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Me&quot; secured=&quot;true&quot; http-method=&quot;DELETE&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt/delete&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Me&quot; secured=&quot;true&quot;    http-method=&quot;PUT&quot;&gt;
    &lt;Permissions&gt;/permission/admin/login&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Me&quot; secured=&quot;true&quot;   http-method=&quot;PATCH&quot;&gt;
    &lt;Permissions&gt;/permission/admin/login&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/scim2/Me&quot; secured=&quot;true&quot; http-method=&quot;POST&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt/create&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;/scim2/ServiceProviderConfig&quot; secured=&quot;false&quot; http-method=&quot;all&quot;&gt;
    &lt;Permissions&gt;&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;/scim2/ResourceType&quot; secured=&quot;false&quot; http-method=&quot;all&quot;&gt;
    &lt;Permissions&gt;&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;/scim2/Bulk&quot; secured=&quot;true&quot;  http-method=&quot;all&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/usermgt&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/api/identity/oauth2/dcr/(.*)&quot; secured=&quot;true&quot; http-method=&quot;all&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/applicationmgt&lt;/Permissions&gt;
&lt;/Resource&gt;
</code></pre></div>

<p>Add the following properties within the <code>&lt;TenantContextsToRewrite&gt;&lt;WebApp&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;Context&gt;/scim2&lt;/Context&gt;
&lt;Context&gt;/api/identity/oauth/dcr/v1.0&lt;/Context&gt;
</code></pre></div>

<p>Remove the following property found within the <code>&lt;OAuth&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;AppInfoCacheTimeout&gt;-1&lt;/AppInfoCacheTimeout&gt;
&lt;AuthorizationGrantCacheTimeout&gt;-1&lt;/AuthorizationGrantCacheTimeout&gt;
&lt;SessionDataCacheTimeout&gt;-1&lt;/SessionDataCacheTimeout&gt;
&lt;ClaimCacheTimeout&gt;-1&lt;/ClaimCacheTimeout&gt;
</code></pre></div>

<p>Add the following commented property within the <code>&lt;OAuth&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;!-- True, if access token alias is stored in the database instead of access token.
Eg.token alias and token is same when
default AccessTokenValueGenerator is used.
When JWTTokenIssuer is used, jti is used as the token alias
Default: true.
Applicable values: true, false--&gt;

    &lt;!--&lt;PersistAccessTokenAlias&gt;false&lt;/PersistAccessTokenAlias&gt;--&gt;
</code></pre></div>

<p>Replace the <code>&lt;OAuth2DCREPUrl&gt;</code> property with the property value given below.</p>
<div class="highlight"><pre><span></span><code>&lt;OAuth2DCREPUrl&gt;${carbon.protocol}://${carbon.host}:${carbon.management.port}/api/identity/oauth2/dcr/v1.0/register&lt;/OAuth2DCREPUrl&gt;
</code></pre></div>

<p>Uncomment the following property and add line number 3 given below to the file.</p>
<div class="highlight"><pre><span></span><code>&lt;TokenValidators&gt;
    &lt;TokenValidator type=&quot;bearer&quot; class=&quot;org.wso2.carbon.identity.oauth2.validators.DefaultOAuth2TokenValidator&quot; /&gt;
    &lt;TokenValidator type=&quot;jwt&quot; class=&quot;org.wso2.carbon.identity.oauth2.validators.OAuth2JWTTokenValidator&quot; /&gt;
&lt;/TokenValidators&gt;
</code></pre></div>

<p>Add the following commented property to the file. You can place it after the <code>&lt;/EnableAssertions&gt;</code> closing tag.</p>
<div class="highlight"><pre><span></span><code>&lt;!-- This should be true if subject identifier in the token validation response needs to adhere to the
following SP configuration.

- Use tenant domain in local subject identifier. - Use user store domain in local subject identifier.

if the value is false, subject identifier will be set as the fully qualified username.

Default value: false

Supported versions: IS 5.4.0 beta onwards--&gt;
    &lt;!--&lt;BuildSubjectIdentifierFromSPConfig&gt;true&lt;/BuildSubjectIdentifierFromSPConfig&gt;--&gt;
</code></pre></div>

<p>Uncomment the <code>&lt;UserType&gt;</code> property that has the value "Federated" and comment out the <code>&lt;UserType&gt;</code> property that has the value "Local" as seen below.
The property can be found within the <code>&lt;SAML2Grant&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;SAML2Grant&gt;
    &lt;!--SAML2TokenHandler&gt;&lt;/SAML2TokenHandler--&gt;
    &lt;!-- UserType conifg decides whether the SAML assertion carrying user is local user or a federated user.
            Only Local Users can access claims from local userstore. LEGACY users will have to have tenant domain appended username.
            They will not be able to access claims from local userstore. To get claims by mapping users with exact same username from local
            userstore (for non LOCAL scenarios) use mapFederatedUsersToLocal config --&gt;
    &lt;!--&lt;UserType&gt;LOCAL&lt;/UserType&gt;--&gt;
    &lt;UserType&gt;FEDERATED&lt;/UserType&gt;
    &lt;!--UserType&gt;LEGACY&lt;/UserType--&gt;
&lt;/SAML2Grant&gt;
</code></pre></div>

<p>Remove the following properties found within the <code>&lt;SSOService&gt;</code> tag.</p>
<blockquote>
<p>This step is optional.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>&lt;PersistanceCacheTimeout&gt;157680000&lt;/PersistanceCacheTimeout&gt;
&lt;SessionIndexCacheTimeout&gt;157680000&lt;/SessionIndexCacheTimeout&gt;
</code></pre></div>

<p>Add the following properties to the file. You can place the code block after the <code>&lt;/SCIM&gt;</code> closing tag.</p>
<div class="highlight"><pre><span></span><code>&lt;SCIM2&gt;
    &lt;!--Default value for UserEPUrl and GroupEPUrl are built in following format
            https://&lt;HostName&gt;:&lt;MgtTrpProxyPort except 443&gt;/&lt;ProxyContextPath&gt;/&lt;context&gt;/&lt;path&gt;
            If that doesn&#39;t satisfy uncomment the following config and explicitly configure the value--&gt;
    &lt;!--UserEPUrl&gt;${carbon.protocol}://${carbon.host}:${carbon.management.port}/scim2/Users&lt;/UserEPUrl--&gt;
    &lt;!--GroupEPUrl&gt;${carbon.protocol}://${carbon.host}:${carbon.management.port}/scim2/Groups&lt;/GroupEPUrl--&gt;
&lt;/SCIM2&gt;
</code></pre></div>

<p>Add the following properties to the file. You can place it after the <code>&lt;/EnableAskPasswordAdminUI&gt;</code> closing tag.</p>
<div class="highlight"><pre><span></span><code>&lt;EnableRecoveryEndpoint&gt;true&lt;/EnableRecoveryEndpoint&gt;
&lt;EnableSelfSignUpEndpoint&gt;true&lt;/EnableSelfSignUpEndpoint&gt;
</code></pre></div>

<p>Add the following properties within the <code>&lt;ResourceAccessControl&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;Resource context=&quot;(.*)/api/identity/oauth2/dcr/v1.0/register(.*)&quot; secured=&quot;true&quot; http-method=&quot;POST&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/applicationmgt/create&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/api/identity/oauth2/dcr/v1.0/register(.*)&quot; secured=&quot;true&quot; http-method=&quot;DELETE&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/applicationmgt/delete&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/api/identity/oauth2/dcr/v1.0/register(.*)&quot; secured=&quot;true&quot; http-method=&quot;PUT&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/applicationmgt/update&lt;/Permissions&gt;
&lt;/Resource&gt;
&lt;Resource context=&quot;(.*)/api/identity/oauth2/dcr/v1.0/register(.*)&quot; secured=&quot;true&quot; http-method=&quot;GET&quot;&gt;
    &lt;Permissions&gt;/permission/admin/manage/identity/applicationmgt/view&lt;/Permissions&gt;
&lt;/Resource&gt;
</code></pre></div>

<h3 id="oidc-scope-configxml-file"><code>oidc-scope-config.xml</code> file<a class="headerlink" href="#oidc-scope-configxml-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf/identity folder.</p>
<p>Replace the <code>&lt;Claim&gt;</code> tag within the <code>&lt;Scope id="openid"&gt;</code> tag with the following.</p>
<div class="highlight"><pre><span></span><code>&lt;Claim&gt;
    sub, email, email_verified, name, family_name, given_name, middle_name, nickname, preferred_username, profile,
    picture, website, gender, birthdate, zoneinfo, locale, updated_at, phone_number, phone_number_verified,
    address,street_address,country, formatted, postal_code, locality, region
&lt;/Claim&gt;
</code></pre></div>

<p>Replace the <code>&lt;Claim&gt;</code> tag within the <code>&lt;Scope id="address"&gt;</code> tag with the following.</p>
<div class="highlight"><pre><span></span><code>&lt;Claim&gt;address,street&lt;/Claim&gt;
</code></pre></div>

<h3 id="authenticatorsxml-file"><code>authenticators.xml</code> file<a class="headerlink" href="#authenticatorsxml-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf/security folder.</p>
<p>Update the parameter name of the JITUserProvisioning parameter to the following.</p>
<div class="highlight"><pre><span></span><code>&lt;Parameter name=&quot;JITUserProvisioningEnabled&quot;&gt;true&lt;/Parameter&gt;
</code></pre></div>

<h3 id="webxml-file"><code>web.xml</code> file<a class="headerlink" href="#webxml-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf/tomcat folder.</p>
<p>Add the following property under the <code>&lt;session-config&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;
</code></pre></div>

<p>Add the following properties below the <code>&lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt;</code> property.</p>
<div class="highlight"><pre><span></span><code>&lt;init-param&gt;
   &lt;param-name&gt;compilerSourceVM&lt;/param-name&gt;
   &lt;param-value&gt;1.8&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;init-param&gt;
   &lt;param-name&gt;compilerTargetVM&lt;/param-name&gt;
   &lt;param-value&gt;1.8&lt;/param-value&gt;
&lt;/init-param&gt;
</code></pre></div>

<h3 id="email-admin-configxml-file"><code>email-admin-config.xml</code> file<a class="headerlink" href="#email-admin-configxml-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf/email folder.</p>
<p>Replace "https://localhost:9443" in all instances of the accountrecoveryendpoint URL with the {{carbon.product-url}} placeholder.
The URL should look similiar to the URL shown in the code block below. The placeholder will retrieve the value configured in the carbon.xml file.</p>
<blockquote>
<p>You can skip this step if you have already configured this with your load balancer URL.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>{{carbon.product-url}}/accountrecoveryendpoint/confirmregistration.do?confirmation={{confirmation-code}}&amp;amp;userstoredomain={{userstore-domain}}&amp;amp;username={{url:user-name}}&amp;amp;tenantdomain={{tenant-domain}}
</code></pre></div>

<h3 id="cipher-toolproperties-file"><code>cipher-tool.properties</code> file<a class="headerlink" href="#cipher-toolproperties-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf folder.</p>
<p>Add the following property.</p>
<div class="highlight"><pre><span></span><code>ThirftBasedEntitlementConfig.KeyStore.Password=repository/conf/identity/identity.xml//Server/EntitlementSettings/ThirftBasedEntitlementConfig/KeyStore/Password,true
</code></pre></div>

<h3 id="cipher-textproperties-file"><code>cipher-text.properties</code> file<a class="headerlink" href="#cipher-textproperties-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf folder.</p>
<p>Add the following property.</p>
<div class="highlight"><pre><span></span><code>ThirftBasedEntitlementConfig.KeyStore.Password=[wso2carbon]
</code></pre></div>

<h3 id="claim-configxml-file"><code>claim-config.xml</code> file<a class="headerlink" href="#claim-configxml-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf folder.</p>
<p>Add the following claims within the <code>&lt;Dialect dialectURI="http://wso2.org/claims"&gt;</code> tag.</p>
<div class="highlight"><pre><span></span><code>&lt;Claim&gt;
    &lt;ClaimURI&gt;http://wso2.org/claims/identity/phoneVerified&lt;/ClaimURI&gt;
    &lt;DisplayName&gt;Phone Verified&lt;/DisplayName&gt;
    &lt;!-- Proper attribute Id in your user store must be configured for this --&gt;
    &lt;AttributeID&gt;phoneVerified&lt;/AttributeID&gt;
    &lt;Description&gt;Phone Verified&lt;/Description&gt;
&lt;/Claim&gt;

&lt;Claim&gt;
    &lt;ClaimURI&gt;http://wso2.org/claims/department&lt;/ClaimURI&gt;
    &lt;DisplayName&gt;Department&lt;/DisplayName&gt;
    &lt;AttributeID&gt;departmentNumber&lt;/AttributeID&gt;
    &lt;Description&gt;Department&lt;/Description&gt;
    &lt;SupportedByDefault /&gt;
    &lt;ReadOnly /&gt;
&lt;/Claim&gt;
</code></pre></div>

<p>Add the following claims. This new claim dialect and the claims within it are required for SCIM 2.0.</p>
<div class="highlight"><pre><span></span><code>&lt;Dialect dialectURI=&quot;urn:ietf:params:scim:schemas:core:2.0&quot;&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:id&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Id&lt;/DisplayName&gt;
        &lt;AttributeID&gt;scimId&lt;/AttributeID&gt;
        &lt;Description&gt;Id&lt;/Description&gt;
        &lt;Required /&gt;
        &lt;DisplayOrder&gt;1&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/userid&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:externalId&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;External Id&lt;/DisplayName&gt;
        &lt;AttributeID&gt;externalId&lt;/AttributeID&gt;
        &lt;Description&gt;External Id&lt;/Description&gt;
        &lt;Required /&gt;
        &lt;DisplayOrder&gt;1&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/externalid&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:meta.created&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Meta - Created&lt;/DisplayName&gt;
        &lt;AttributeID&gt;createdDate&lt;/AttributeID&gt;
        &lt;Description&gt;Meta - Created&lt;/Description&gt;
        &lt;Required /&gt;
        &lt;DisplayOrder&gt;1&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/created&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:meta.lastModified&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Meta - Last Modified&lt;/DisplayName&gt;
        &lt;AttributeID&gt;lastModifiedDate&lt;/AttributeID&gt;
        &lt;Description&gt;Meta - Last Modified&lt;/Description&gt;
        &lt;Required /&gt;
        &lt;DisplayOrder&gt;1&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/modified&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:meta.location&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Meta - Location&lt;/DisplayName&gt;
        &lt;AttributeID&gt;location&lt;/AttributeID&gt;
        &lt;Description&gt;Meta - Location&lt;/Description&gt;
        &lt;Required /&gt;
        &lt;DisplayOrder&gt;1&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/location&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:meta.resourceType&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Meta - Location&lt;/DisplayName&gt;
        &lt;AttributeID&gt;ref&lt;/AttributeID&gt;
        &lt;Description&gt;Meta - Location&lt;/Description&gt;
        &lt;Required /&gt;
        &lt;DisplayOrder&gt;1&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/resourceType&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:meta.version&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Meta - Version&lt;/DisplayName&gt;
        &lt;AttributeID&gt;im&lt;/AttributeID&gt;
        &lt;Description&gt;Meta - Version&lt;/Description&gt;
        &lt;Required /&gt;
        &lt;DisplayOrder&gt;1&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/im&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
&lt;/Dialect&gt;
&lt;Dialect dialectURI=&quot;urn:ietf:params:scim:schemas:core:2.0:User&quot;&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:userName&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;User Name&lt;/DisplayName&gt;
        &lt;AttributeID&gt;uid&lt;/AttributeID&gt;
        &lt;Description&gt;User Name&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/username&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:name.givenName&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Name - Given Name&lt;/DisplayName&gt;
        &lt;AttributeID&gt;givenName&lt;/AttributeID&gt;
        &lt;Description&gt;Given Name&lt;/Description&gt;
        &lt;Required /&gt;
        &lt;DisplayOrder&gt;1&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/givenname&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:name.familyName&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Name - Family Name&lt;/DisplayName&gt;
        &lt;AttributeID&gt;sn&lt;/AttributeID&gt;
        &lt;Description&gt;Family Name&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/lastname&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:name.formatted&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Name - Formatted Name&lt;/DisplayName&gt;
        &lt;AttributeID&gt;formattedName&lt;/AttributeID&gt;
        &lt;Description&gt;Formatted Name&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/formattedName&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:name.middleName&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Name - Middle Name&lt;/DisplayName&gt;
        &lt;AttributeID&gt;middleName&lt;/AttributeID&gt;
        &lt;Description&gt;Middle Name&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/middleName&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:name.honorificPrefix&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Name - Honoric Prefix&lt;/DisplayName&gt;
        &lt;AttributeID&gt;honoricPrefix&lt;/AttributeID&gt;
        &lt;Description&gt;Honoric Prefix&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/honorificPrefix&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:name.honorificSuffix&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Name - Honoric Suffix&lt;/DisplayName&gt;
        &lt;AttributeID&gt;honoricSuffix&lt;/AttributeID&gt;
        &lt;Description&gt;Honoric Suffix&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/honorificSuffix&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:displayName&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Display Name&lt;/DisplayName&gt;
        &lt;AttributeID&gt;displayName&lt;/AttributeID&gt;
        &lt;Description&gt;Display Name&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/displayName&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:nickName&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Nick Name&lt;/DisplayName&gt;
        &lt;AttributeID&gt;nickName&lt;/AttributeID&gt;
        &lt;Description&gt;Nick Name&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/nickname&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:profileUrl&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Profile URL&lt;/DisplayName&gt;
        &lt;AttributeID&gt;url&lt;/AttributeID&gt;
        &lt;Description&gt;Profile URL&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/url&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:title&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Title&lt;/DisplayName&gt;
        &lt;AttributeID&gt;title&lt;/AttributeID&gt;
        &lt;Description&gt;Title&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/title&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:userType&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;User Type&lt;/DisplayName&gt;
        &lt;AttributeID&gt;userType&lt;/AttributeID&gt;
        &lt;Description&gt;User Type&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/userType&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:preferredLanguage&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Preferred Language&lt;/DisplayName&gt;
        &lt;AttributeID&gt;preferredLanguage&lt;/AttributeID&gt;
        &lt;Description&gt;Preferred Language&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/preferredLanguage&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:locale&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Locality&lt;/DisplayName&gt;
        &lt;AttributeID&gt;localityName&lt;/AttributeID&gt;
        &lt;Description&gt;Locality&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/local&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:timezone&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Time Zone&lt;/DisplayName&gt;
        &lt;AttributeID&gt;timeZone&lt;/AttributeID&gt;
        &lt;Description&gt;Time Zone&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/timeZone&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:active&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Active&lt;/DisplayName&gt;
        &lt;AttributeID&gt;active&lt;/AttributeID&gt;
        &lt;Description&gt;Active&lt;/Description&gt;
        &lt;DisplayOrder&gt;2&lt;/DisplayOrder&gt;
        &lt;Required /&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/active&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:emails.work&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Emails - Work Email&lt;/DisplayName&gt;
        &lt;AttributeID&gt;workEmail&lt;/AttributeID&gt;
        &lt;Description&gt;Work Email&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;RegEx&gt;^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$&lt;/RegEx&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/emails.work&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:emails.home&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Emails - Home Email&lt;/DisplayName&gt;
        &lt;AttributeID&gt;homeEmail&lt;/AttributeID&gt;
        &lt;Description&gt;Home Email&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;RegEx&gt;^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$&lt;/RegEx&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/emails.home&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:emails.other&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Emails - Other Email&lt;/DisplayName&gt;
        &lt;AttributeID&gt;otherEmail&lt;/AttributeID&gt;
        &lt;Description&gt;Other Email&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;RegEx&gt;^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$&lt;/RegEx&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/emails.other&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:phoneNumbers.mobile&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Phone Numbers - Mobile Number&lt;/DisplayName&gt;
        &lt;AttributeID&gt;mobile&lt;/AttributeID&gt;
        &lt;Description&gt;Mobile Number&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;RegEx&gt;^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$&lt;/RegEx&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/mobile&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:phoneNumbers.home&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Phone Numbers - Home Phone Number&lt;/DisplayName&gt;
        &lt;AttributeID&gt;homePhone&lt;/AttributeID&gt;
        &lt;Description&gt;Home Phone&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;RegEx&gt;^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$&lt;/RegEx&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/phoneNumbers.home&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:phoneNumbers.work&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Phone Numbers - Work Phone Number&lt;/DisplayName&gt;
        &lt;AttributeID&gt;workPhone&lt;/AttributeID&gt;
        &lt;Description&gt;Work Phone&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;RegEx&gt;^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$&lt;/RegEx&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/phoneNumbers.work&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:phoneNumbers.other&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Phone Numbers - Other&lt;/DisplayName&gt;
        &lt;AttributeID&gt;otherPhoneNumber&lt;/AttributeID&gt;
        &lt;Description&gt;Other Phone Number&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;RegEx&gt;^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$&lt;/RegEx&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/phoneNumbers.other&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:ims.gtalk&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;IM - Gtalk&lt;/DisplayName&gt;
        &lt;AttributeID&gt;imGtalk&lt;/AttributeID&gt;
        &lt;Description&gt;IM - Gtalk&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/gtalk&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:ims.skype&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;IM - Skype&lt;/DisplayName&gt;
        &lt;AttributeID&gt;imSkype&lt;/AttributeID&gt;
        &lt;Description&gt;IM - Skype&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/skype&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:photos.photo&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Photo&lt;/DisplayName&gt;
        &lt;AttributeID&gt;photoUrl&lt;/AttributeID&gt;
        &lt;Description&gt;Photo&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/photourl&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:photos.thumbnail&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Photo - Thumbnail&lt;/DisplayName&gt;
        &lt;AttributeID&gt;thumbnail&lt;/AttributeID&gt;
        &lt;Description&gt;Photo - Thumbnail&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/thumbnail&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:addresses.home&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Address - Home&lt;/DisplayName&gt;
        &lt;AttributeID&gt;localityAddress&lt;/AttributeID&gt;
        &lt;Description&gt;Address - Home&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/addresses.locality&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:addresses.work&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Address - Work&lt;/DisplayName&gt;
        &lt;AttributeID&gt;region&lt;/AttributeID&gt;
        &lt;Description&gt;Address - Work&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/region&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:groups&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Groups&lt;/DisplayName&gt;
        &lt;AttributeID&gt;groups&lt;/AttributeID&gt;
        &lt;Description&gt;Groups&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/groups&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:entitlements.default&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Entitlements&lt;/DisplayName&gt;
        &lt;AttributeID&gt;entitlements&lt;/AttributeID&gt;
        &lt;Description&gt;Entitlements&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/entitlements&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:roles.default&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;Roles&lt;/DisplayName&gt;
        &lt;AttributeID&gt;roles&lt;/AttributeID&gt;
        &lt;Description&gt;Roles&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/role&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
    &lt;Claim&gt;
        &lt;ClaimURI&gt;urn:ietf:params:scim:schemas:core:2.0:User:x509Certificates.default&lt;/ClaimURI&gt;
        &lt;DisplayName&gt;X509Certificates&lt;/DisplayName&gt;
        &lt;AttributeID&gt;x509Certificates&lt;/AttributeID&gt;
        &lt;Description&gt;X509Certificates&lt;/Description&gt;
        &lt;DisplayOrder&gt;5&lt;/DisplayOrder&gt;
        &lt;SupportedByDefault /&gt;
        &lt;MappedLocalClaim&gt;http://wso2.org/claims/x509Certificates&lt;/MappedLocalClaim&gt;
    &lt;/Claim&gt;
&lt;/Dialect&gt;
</code></pre></div>

<h3 id="application-authenticationxml-file"><code>application-authentication.xml</code> file<a class="headerlink" href="#application-authenticationxml-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf/identity folder.</p>
<p>Add the following parameter within the FacebookAuthenticator tag.</p>
<div class="highlight"><pre><span></span><code>&lt;!--&lt;Parameter name=&quot;ClaimDialectUri&quot;&gt;http://wso2.org/facebook/claims&lt;/Parameter&gt;--&gt;
</code></pre></div>

<p>Add the following parameter within the relevant tags of the following authenticators:
MobileConnectAuthenticator, EmailOTP, SMSOTP and totp</p>
<div class="highlight"><pre><span></span><code>&lt;Parameter name=&quot;redirectToMultiOptionPageOnFailure&quot;&gt;false&lt;/Parameter&gt;
</code></pre></div>

<h3 id="entitlementproperties-file"><code>entitlement.properties</code> file<a class="headerlink" href="#entitlementproperties-file" title="Permanent link">&para;</a></h3>
<p>Stored in the <IS_HOME>/repository/conf/identity folder.</p>
<p>WSO2 IS 5.4.0 introduces a set of new XACML policies that load at server startup when the PAP.Policy.Add.Start.Enable property is set to true.
Therefore, when you upgrade to IS 5.4.0, follow one of the steps below depending on whether you want to add the new policies:</p>
<ul>
<li>If you want to add the new policies on server startup, set both PDP.Balana.Config.Enable and PAP.Policy.Add.Start.Enable properties to true.</li>
<li>If you do not want to add the new policies on server startup, set both PDP.Balana.Config.Enable and PAP.Policy.Add.Start.Enable properties to false.</li>
</ul>
<blockquote>
<p><strong>Note</strong></p>
<p>If you set the PDP.Balana.Config.Enable property to false, while the PAP.Policy.Add.Start.Enable property is set to true, the server does not look for the balana-config.xml file on startup. This results in an error as follows because the balana-config.xml file includes functions required by the new XACML policies:</p>
<div class="highlight"><pre><span></span><code>TID: [-1234] [] [2018-01-01 01:16:37,547] ERROR
{org.wso2.carbon.identity.entitlement.EntitlementUtil}
Error while adding sample XACML policies
java.lang.IllegalArgumentException: Error while parsing start up policy
</code></pre></div>

</blockquote>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <!--
 * Copyright (c) 2021, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.

 NOTE: Borrowed generously from MkDocs and MkDocs-material
-->

<footer class="md-footer md-typeset">

  <!--
 * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).
 *
 * WSO2 LLC. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

<div class="md-copyright md-typeset">
  <div class="md-copyright__content">
    <div class="md-copyright__highlight">
      
      &copy; 2024 <a href="https://wso2.com/">WSO2</a> LLC.
      
    </div>
  </div>
</div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.path", "navigation.top", "content.code.copy", "content.action.edit", "content.action.view", "content.tabs.link", "search.suggest", "search.share"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.fc8c2696.min.js"></script>
      
        <script src="../../../../assets/js/theme.js"></script>
      
        <script src="../../../../assets/js/homePage.js"></script>
      
        <script src="../../../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>